
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>DDL VDB Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="xml_deployment_mode.html" />
    
    
    <link rel="prev" href="developing_vdb.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Legal_Notice.html">
            
                <a href="../Legal_Notice.html">
            
                    
                    Legal Notice
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="Reference_Guide.html">
            
                <a href="Reference_Guide.html">
            
                    
                    Reference Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="Data_Sources.html">
            
                <a href="Data_Sources.html">
            
                    
                    Data Sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="vdb_guide.html">
            
                <a href="vdb_guide.html">
            
                    
                    Virtual Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="developing_vdb.html">
            
                <a href="developing_vdb.html">
            
                    
                    Developing a Virtual Database
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.1.2.2" data-path="ddl_deployment_mode.html">
            
                <a href="ddl_deployment_mode.html">
            
                    
                    DDL VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="xml_deployment_mode.html">
            
                <a href="xml_deployment_mode.html">
            
                    
                    Using XML & DDL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="vdb_properties.html">
            
                <a href="vdb_properties.html">
            
                    
                    VDB Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="DDL_Metadata.html">
            
                <a href="DDL_Metadata.html">
            
                    
                    Schema Object DDL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="DDL_Domain.html">
            
                <a href="DDL_Domain.html">
            
                    
                    Domain DDL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="Multisource_Models.html">
            
                <a href="Multisource_Models.html">
            
                    
                    MultiSource Models
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="Metadata_Repositories.html">
            
                <a href="Metadata_Repositories.html">
            
                    
                    Metadata Repositories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.9" data-path="REST_Service_Through_VDB.html">
            
                <a href="REST_Service_Through_VDB.html">
            
                    
                    REST Service Through VDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.10" data-path="VDB_Reuse.html">
            
                <a href="VDB_Reuse.html">
            
                    
                    VDB Reuse
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="SQL_Support.html">
            
                <a href="SQL_Support.html">
            
                    
                    SQL Support
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Identifiers.html">
            
                <a href="Identifiers.html">
            
                    
                    Identifiers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Expressions.html">
            
                <a href="Expressions.html">
            
                    
                    Expressions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Criteria.html">
            
                <a href="Criteria.html">
            
                    
                    Criteria
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Scalar_Functions.html">
            
                <a href="Scalar_Functions.html">
            
                    
                    Scalar Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.4.1" data-path="Numeric_Functions.html">
            
                <a href="Numeric_Functions.html">
            
                    
                    Numeric Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.2" data-path="String_Functions.html">
            
                <a href="String_Functions.html">
            
                    
                    String Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.3" data-path="Date_Time_Functions.html">
            
                <a href="Date_Time_Functions.html">
            
                    
                    Date_Time Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.4" data-path="Type_Conversion_Functions.html">
            
                <a href="Type_Conversion_Functions.html">
            
                    
                    Type Conversion Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.5" data-path="Choice_Functions.html">
            
                <a href="Choice_Functions.html">
            
                    
                    Choice Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.6" data-path="Decode_Functions.html">
            
                <a href="Decode_Functions.html">
            
                    
                    Decode Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.7" data-path="Lookup_Function.html">
            
                <a href="Lookup_Function.html">
            
                    
                    Lookup Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.8" data-path="System_Functions.html">
            
                <a href="System_Functions.html">
            
                    
                    System Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.9" data-path="XML_Functions.html">
            
                <a href="XML_Functions.html">
            
                    
                    XML Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.10" data-path="JSON_Functions.html">
            
                <a href="JSON_Functions.html">
            
                    
                    JSON Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.11" data-path="Security_Functions.html">
            
                <a href="Security_Functions.html">
            
                    
                    Security Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.12" data-path="Spatial_Functions.html">
            
                <a href="Spatial_Functions.html">
            
                    
                    Spatial Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.13" data-path="Miscellaneous_Functions.html">
            
                <a href="Miscellaneous_Functions.html">
            
                    
                    Miscellaneous Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4.14" data-path="Nondeterministic_Function_Handling.html">
            
                <a href="Nondeterministic_Function_Handling.html">
            
                    
                    Nondeterministic Function Handling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="DML_Commands.html">
            
                <a href="DML_Commands.html">
            
                    
                    DML Commands
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.5.1" data-path="Set_Operations.html">
            
                <a href="Set_Operations.html">
            
                    
                    Set Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.2" data-path="Subqueries.html">
            
                <a href="Subqueries.html">
            
                    
                    Subqueries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.3" data-path="WITH_Clause.html">
            
                <a href="WITH_Clause.html">
            
                    
                    WITH Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.4" data-path="SELECT_Clause.html">
            
                <a href="SELECT_Clause.html">
            
                    
                    SELECT Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.5" data-path="FROM_Clause.html">
            
                <a href="FROM_Clause.html">
            
                    
                    FROM Clause
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.5.5.1" data-path="XMLTABLE.html">
            
                <a href="XMLTABLE.html">
            
                    
                    XMLTABLE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.5.2" data-path="ARRAYTABLE.html">
            
                <a href="ARRAYTABLE.html">
            
                    
                    ARRAYTABLE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.5.3" data-path="OBJECTTABLE.html">
            
                <a href="OBJECTTABLE.html">
            
                    
                    OBJECTTABLE
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.5.4" data-path="TEXTTABLE.html">
            
                <a href="TEXTTABLE.html">
            
                    
                    TEXTTABLE
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.6" data-path="WHERE_Clause.html">
            
                <a href="WHERE_Clause.html">
            
                    
                    WHERE Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.7" data-path="GROUP_BY_Clause.html">
            
                <a href="GROUP_BY_Clause.html">
            
                    
                    GROUP BY Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.8" data-path="HAVING_Clause.html">
            
                <a href="HAVING_Clause.html">
            
                    
                    HAVING Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.9" data-path="ORDER_BY_Clause.html">
            
                <a href="ORDER_BY_Clause.html">
            
                    
                    ORDER BY Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.10" data-path="LIMIT_Clause.html">
            
                <a href="LIMIT_Clause.html">
            
                    
                    LIMIT Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.11" data-path="INTO_Clause.html">
            
                <a href="INTO_Clause.html">
            
                    
                    INTO Clause
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5.12" data-path="OPTION_Clause.html">
            
                <a href="OPTION_Clause.html">
            
                    
                    OPTION Clause
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="DDL_Commands.html">
            
                <a href="DDL_Commands.html">
            
                    
                    DDL Commands
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.6.1" data-path="Temp_Tables.html">
            
                <a href="Temp_Tables.html">
            
                    
                    Temp Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6.2" data-path="Alter_View.html">
            
                <a href="Alter_View.html">
            
                    
                    Alter View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6.3" data-path="Alter_Procedure.html">
            
                <a href="Alter_Procedure.html">
            
                    
                    Alter Procedure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6.4" data-path="Alter_Trigger.html">
            
                <a href="Alter_Trigger.html">
            
                    
                    Alter Trigger
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Procedures.html">
            
                <a href="Procedures.html">
            
                    
                    Procedures
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.7.1" data-path="Procedure_Language.html">
            
                <a href="Procedure_Language.html">
            
                    
                    Procedure Language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7.2" data-path="Virtual_Procedures.html">
            
                <a href="Virtual_Procedures.html">
            
                    
                    Virtual Procedures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7.3" data-path="Update_Procedures_Triggers.html">
            
                <a href="Update_Procedures_Triggers.html">
            
                    
                    Update Procedures
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Comments.html">
            
                <a href="Comments.html">
            
                    
                    Comments
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="Datatypes.html">
            
                <a href="Datatypes.html">
            
                    
                    Datatypes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.4.1" data-path="Supported_Types.html">
            
                <a href="Supported_Types.html">
            
                    
                    Supported Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.2" data-path="Type_Conversions.html">
            
                <a href="Type_Conversions.html">
            
                    
                    Type Conversions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.3" data-path="Special_Conversion_Cases.html">
            
                <a href="Special_Conversion_Cases.html">
            
                    
                    Special Conversion Cases
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4.4" data-path="Escaped_Literal_Syntax.html">
            
                <a href="Escaped_Literal_Syntax.html">
            
                    
                    Escaped Literal Syntax
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="Updatable_Views.html">
            
                <a href="Updatable_Views.html">
            
                    
                    Updatable Views
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.5.1" data-path="Key-preserved_Table.html">
            
                <a href="Key-preserved_Table.html">
            
                    
                    preserved Table
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="Transaction_Support.html">
            
                <a href="Transaction_Support.html">
            
                    
                    Transaction Support
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.6.1" data-path="AutoCommitTxn_Execution_Property.html">
            
                <a href="AutoCommitTxn_Execution_Property.html">
            
                    
                    AutoCommitTxn Execution Property
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6.2" data-path="Updating_Model_Count.html">
            
                <a href="Updating_Model_Count.html">
            
                    
                    Updating Model Count
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6.3" data-path="JDBC_and_Transactions.html">
            
                <a href="JDBC_and_Transactions.html">
            
                    
                    JDBC and Transactions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6.4" data-path="Transactional_Behavior_with_JBoss_Data_Source_Types.html">
            
                <a href="Transactional_Behavior_with_JBoss_Data_Source_Types.html">
            
                    
                    Transactional Behavior with JBoss Data Source Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6.5" data-path="Limitations_and_Workarounds.html">
            
                <a href="Limitations_and_Workarounds.html">
            
                    
                    Limitations and Workarounds
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="Data_Roles.html">
            
                <a href="Data_Roles.html">
            
                    
                    Data Roles
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.7.1" data-path="Permissions.html">
            
                <a href="Permissions.html">
            
                    
                    Permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7.2" data-path="Role_Mapping.html">
            
                <a href="Role_Mapping.html">
            
                    
                    Role Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7.3" data-path="XML_Definition.html">
            
                <a href="XML_Definition.html">
            
                    
                    XML Definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7.4" data-path="Customizing.html">
            
                <a href="Customizing.html">
            
                    
                    Customizing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.8" data-path="System_Schema.html">
            
                <a href="System_Schema.html">
            
                    
                    System Schema
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.8.1" data-path="sys_schema.html">
            
                <a href="sys_schema.html">
            
                    
                    SYS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.8.2" data-path="sysadmin_schema.html">
            
                <a href="sysadmin_schema.html">
            
                    
                    SYSADMIN
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.9" data-path="Translators.html">
            
                <a href="Translators.html">
            
                    
                    Translators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.9.1" data-path="Amazon_S3_Translator.html">
            
                <a href="Amazon_S3_Translator.html">
            
                    
                    Amazon S3 Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.2" data-path="Amazon_SimpleDB_Translator.html">
            
                <a href="Amazon_SimpleDB_Translator.html">
            
                    
                    Amazon SimpleDB Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.3" data-path="Apache_Accumulo_Translator.html">
            
                <a href="Apache_Accumulo_Translator.html">
            
                    
                    Apache Accumulo Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.4" data-path="Apache_SOLR_Translator.html">
            
                <a href="Apache_SOLR_Translator.html">
            
                    
                    Apache SOLR Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.5" data-path="Cassandra_Translator.html">
            
                <a href="Cassandra_Translator.html">
            
                    
                    Cassandra Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.6" data-path="couchbase_translator.html">
            
                <a href="couchbase_translator.html">
            
                    
                    Couchbase Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.7" data-path="Delegating_Translators.html">
            
                <a href="Delegating_Translators.html">
            
                    
                    Delegating Translators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.8" data-path="File_Translator.html">
            
                <a href="File_Translator.html">
            
                    
                    File Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.9" data-path="Google_Spreadsheet_Translator.html">
            
                <a href="Google_Spreadsheet_Translator.html">
            
                    
                    Google Spreadsheet Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.10" data-path="Infinispan_Translator.html">
            
                <a href="Infinispan_Translator.html">
            
                    
                    Infinispan Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11" data-path="JDBC_Translators.html">
            
                <a href="JDBC_Translators.html">
            
                    
                    JDBC Translators
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.9.11.1" data-path="Actian_Vector_Translator.html">
            
                <a href="Actian_Vector_Translator.html">
            
                    
                    Actian Vector Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.2" data-path="Apache_Phoenix_Translator.html">
            
                <a href="Apache_Phoenix_Translator.html">
            
                    
                    Apache Phoenix Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.3" data-path="Cloudera_Impala_Translator.html">
            
                <a href="Cloudera_Impala_Translator.html">
            
                    
                    Cloudera Impala Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.4" data-path="DB2_Translator.html">
            
                <a href="DB2_Translator.html">
            
                    
                    DB2 Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.5" data-path="Derby_Translator.html">
            
                <a href="Derby_Translator.html">
            
                    
                    Derby Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.6" data-path="Exasol_Translator.html">
            
                <a href="Exasol_Translator.html">
            
                    
                    Exasol Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.7" data-path="Greenplum_Translator.html">
            
                <a href="Greenplum_Translator.html">
            
                    
                    Greenplum Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.8" data-path="H2_Translator.html">
            
                <a href="H2_Translator.html">
            
                    
                    H2 Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.9" data-path="Hive_Translator.html">
            
                <a href="Hive_Translator.html">
            
                    
                    Hive Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.10" data-path="HSQL_Translator.html">
            
                <a href="HSQL_Translator.html">
            
                    
                    HSQL Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.11" data-path="Informix_Translator.html">
            
                <a href="Informix_Translator.html">
            
                    
                    Informix Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.12" data-path="Ingres_Translators.html">
            
                <a href="Ingres_Translators.html">
            
                    
                    Ingres Translators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.13" data-path="Intersystems_Cache_Translator.html">
            
                <a href="Intersystems_Cache_Translator.html">
            
                    
                    Intersystems Cache Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.14" data-path="JDBC_ANSI_Translator.html">
            
                <a href="JDBC_ANSI_Translator.html">
            
                    
                    JDBC ANSI Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.15" data-path="JDBC_Simple_Translator.html">
            
                <a href="JDBC_Simple_Translator.html">
            
                    
                    JDBC Simple Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.16" data-path="MetaMatrix_Translator.html">
            
                <a href="MetaMatrix_Translator.html">
            
                    
                    MetaMatrix Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.17" data-path="Microsoft_Access_Translators.html">
            
                <a href="Microsoft_Access_Translators.html">
            
                    
                    Microsoft Access Translators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.18" data-path="Microsoft_SQL_Server_Translator.html">
            
                <a href="Microsoft_SQL_Server_Translator.html">
            
                    
                    Microsoft SQL Server Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.19" data-path="ModeShape_Translator.html">
            
                <a href="ModeShape_Translator.html">
            
                    
                    ModeShape Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.20" data-path="MySQL_Translators.html">
            
                <a href="MySQL_Translators.html">
            
                    
                    MySQL Translators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.21" data-path="Netezza_Translator.html">
            
                <a href="Netezza_Translator.html">
            
                    
                    Netezza Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.22" data-path="Oracle_Translator.html">
            
                <a href="Oracle_Translator.html">
            
                    
                    Oracle Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.23" data-path="OSISoft_PI_Translator.html">
            
                <a href="OSISoft_PI_Translator.html">
            
                    
                    OSISoft PI Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.24" data-path="PostgreSQL_Translator.html">
            
                <a href="PostgreSQL_Translator.html">
            
                    
                    PostgreSQL Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.25" data-path="PrestoDB_Translator.html">
            
                <a href="PrestoDB_Translator.html">
            
                    
                    PrestoDB Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.26" data-path="Redshift_Translator.html">
            
                <a href="Redshift_Translator.html">
            
                    
                    Redshift Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.27" data-path="SAP_Hana_Translator.html">
            
                <a href="SAP_Hana_Translator.html">
            
                    
                    SAP Hana Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.28" data-path="SAPIQ_Translator.html">
            
                <a href="SAPIQ_Translator.html">
            
                    
                    SAP IQ Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.29" data-path="Sybase_Translator.html">
            
                <a href="Sybase_Translator.html">
            
                    
                    Sybase Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.30" data-path="Teiid_Translator.html">
            
                <a href="Teiid_Translator.html">
            
                    
                    Teiid Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.31" data-path="Teradata_Translator.html">
            
                <a href="Teradata_Translator.html">
            
                    
                    Teradata Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.11.32" data-path="Vertica_Translator.html">
            
                <a href="Vertica_Translator.html">
            
                    
                    Vertica Translator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.9.12" data-path="JPA_Translator.html">
            
                <a href="JPA_Translator.html">
            
                    
                    JPA Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.13" data-path="LDAP_Translator.html">
            
                <a href="LDAP_Translator.html">
            
                    
                    LDAP Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.14" data-path="Loopback_Translator.html">
            
                <a href="Loopback_Translator.html">
            
                    
                    Loopback Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.15" data-path="Microsoft_Excel_Translator.html">
            
                <a href="Microsoft_Excel_Translator.html">
            
                    
                    Microsoft Excel Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.16" data-path="MongoDB_Translator.html">
            
                <a href="MongoDB_Translator.html">
            
                    
                    MongoDB Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.17" data-path="OData_Translator.html">
            
                <a href="OData_Translator.html">
            
                    
                    OData Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.18" data-path="OData_V4_Translator.html">
            
                <a href="OData_V4_Translator.html">
            
                    
                    OData V4 Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.19" data-path="Swagger_Translator.html">
            
                <a href="Swagger_Translator.html">
            
                    
                    Swagger Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.20" data-path="OLAP_Translator.html">
            
                <a href="OLAP_Translator.html">
            
                    
                    OLAP Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.21" data-path="Salesforce_Translators.html">
            
                <a href="Salesforce_Translators.html">
            
                    
                    Salesforce Translators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.22" data-path="SAP_Gateway_Translator.html">
            
                <a href="SAP_Gateway_Translator.html">
            
                    
                    SAP Gateway Translator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9.23" data-path="Web_Services_Translator.html">
            
                <a href="Web_Services_Translator.html">
            
                    
                    Web Services Translator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.10" data-path="Federated_Planning.html">
            
                <a href="Federated_Planning.html">
            
                    
                    Federated Planning
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.10.1" data-path="Planning_Overview.html">
            
                <a href="Planning_Overview.html">
            
                    
                    Planning Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.2" data-path="Query_Planner.html">
            
                <a href="Query_Planner.html">
            
                    
                    Query Planner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.3" data-path="Query_Plans.html">
            
                <a href="Query_Plans.html">
            
                    
                    Query Plans
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.4" data-path="Federated_Optimizations.html">
            
                <a href="Federated_Optimizations.html">
            
                    
                    Federated Optimizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.5" data-path="Subquery_Optimization.html">
            
                <a href="Subquery_Optimization.html">
            
                    
                    Subquery Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.6" data-path="XQuery_Optimization.html">
            
                <a href="XQuery_Optimization.html">
            
                    
                    XQuery Optimization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.7" data-path="Federated_Failure_Modes.html">
            
                <a href="Federated_Failure_Modes.html">
            
                    
                    Federated Failure Modes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.10.8" data-path="Conformed_Tables.html">
            
                <a href="Conformed_Tables.html">
            
                    
                    Conformed Tables
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.11" data-path="Architecture.html">
            
                <a href="Architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.11.1" data-path="Terminology.html">
            
                <a href="Terminology.html">
            
                    
                    Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.11.2" data-path="Data_Management.html">
            
                <a href="Data_Management.html">
            
                    
                    Data Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.11.3" data-path="Query_Termination.html">
            
                <a href="Query_Termination.html">
            
                    
                    Query Termination
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.11.4" data-path="Processing.html">
            
                <a href="Processing.html">
            
                    
                    Processing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.12" data-path="BNF_for_SQL_Grammar.html">
            
                <a href="BNF_for_SQL_Grammar.html">
            
                    
                    BNF for SQL Grammar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >DDL VDB</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="ddl-vdb">DDL VDB</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A Virtual Database (VDB) can created through DDL statements. Teiid supports SQL-MED specification to configure the foreign data sources.</p>
</div>
<div class="paragraph">
<p>A DDL file captures information about the VDB, the sources it integrate, and preferences for importing metadata. The format of the DDL file can be any elements in documented here.
The DDL file may be deployed as a single file, or in a zip archive.  See <a href="developing_vdb.html">Developing a Virtual Database</a> for a discussion of the .vdb zip packaging.</p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_ddl_file_deployment">DDL File Deployment</a></li>
<li><a href="#_ddl_file_format">DDL File Format</a></li>
<li><a href="#_create_a_database">Create a Database</a></li>
<li><a href="#_create_a_translator">Create a Translator</a></li>
<li><a href="#_create_a_connection_to_an_external_source">Create a Connection To an External Source</a></li>
<li><a href="#_create_schema_in_vdb">Create SCHEMA in VDB</a></li>
<li><a href="#_importing_schema">Importing Schema</a>
<ul class="sectlevel2">
<li><a href="#_importing_another_virtual_database_vdb_reuse">Importing another Virtual Database (VDB Reuse)</a></li>
</ul>
</li>
<li><a href="#_create_schema_objects">Create Schema Objects</a></li>
<li><a href="#_data_roles">Data Roles</a></li>
<li><a href="#_differences_with_vdb_xml_metadata">Differences with vdb.xml metadata</a></li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="_ddl_file_deployment">DDL File Deployment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can simply create a <strong>SOME-NAME-vdb.ddl</strong> file.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
The VDB name pattern must adhere to &quot;-vdb.ddl&quot; for the Teiid VDB deployer to recognize this file when deployed in Teiid Server.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example VDB DDL Template</div>
<div class="content">
<pre class="highlight"><code class="language-DDL" data-lang="DDL">CREATE DATABASE my_example VERSION &apos;1.0.0&apos;;
USE DATABASE my_example VERSION &apos;1.0.0&apos;;

CREATE FOREIGN DATA WRAPPER postgresql;
CREATE SERVER pgsql TYPE &apos;postgresql-9.4-1201.jdbc41.jar&apos;
    VERSION &apos;one&apos; FOREIGN DATA WRAPPER postgresql
    OPTIONS (
        &quot;jndi-name&quot; &apos;java:/postgres-ds&apos;
    );

CREATE SCHEMA test SERVER pgsql;
IMPORT FOREIGN SCHEMA public FROM SERVER pgsql INTO test
    OPTIONS(
        importer.useFullSchemaName false,
        importer.tableTypes &apos;TABLE,VIEW&apos;
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ddl_file_format">DDL File Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For compatibility with the existing metadata system, DDL statements must appear in a specific order to define a virtual database.
All of the database structure must be defined first - this includes create/alter/drop database, domains, vdb import, roles, and schemas statements.
Then the schema object, schema import, and permission DDL may appear.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_database">Create a Database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every VDB file must start with database definition where it specifies the name and version of the database. The create syntax for database is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE DATABASE {db-name} [VERSION {version-string}] OPTIONS ( &lt;options-clause&gt;)

&lt;options-clause&gt; ::=
    &lt;key&gt; &lt;value&gt;[,&lt;key&gt;, &lt;value&gt;]*</pre>
</div>
</div>
<div class="paragraph">
<p>An example statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE DATABASE my_example VERSION &apos;1&apos; OPTIONS (&quot;cache-metadata&quot; true);</pre>
</div>
</div>
<div class="paragraph">
<p>For list database scoped properties see <a href="vdb_properties.html">VDB properties</a>.</p>
</div>
<div class="paragraph">
<p>Immediately following the create database statement is an analogous use database statement.</p>
</div>
<div class="paragraph">
<p>As we learned about the VDB components earlier in the guide, we need to first create translators, then connections to data sources, and then using these we can gather metadata about these sources. There is no limit on how many translators, or data sources or schemas you create to build VDB.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_translator">Create a Translator</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A translator is an adapter to the foreign data source.  The creation of translator in the context of the VDB creates a reference to the software module that is available in the Teiid system. Some of the examples of available translator modules include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>oracle</p>
</li>
<li>
<p>mysql</p>
</li>
<li>
<p>postgresql</p>
</li>
<li>
<p>mongodb</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="Data_Sources.html">Data Sources</a> for more.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE FOREIGN ( DATA WRAPPER | TRANSLATOR ) {translator-name}
    [ TYPE {base-translator-type} ]
    OPTIONS ( &lt;options-clause&gt;)

&lt;options-clause&gt; ::=
    &lt;key&gt; &lt;value&gt;[,&lt;key&gt;, &lt;value&gt;]*</pre>
</div>
</div>
<div class="paragraph">
<p>Optional <em>TYPE</em> is used to create &quot;override&quot; translator. The <em>OPTIONS</em> clause is used to provide the &quot;execution-properties&quot; of a specific translator defined in either in {translator-name} or {base-translator-name}. These names <strong>MUST</strong> match with available Translators in the system. link:Translators.adoc[Translators} documents all the available translators.</p>
</div>
<div class="listingblock">
<div class="title">Example 1: Example creating translator</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> FOREIGN <span class="hljs-keyword">DATA</span> WRAPPER postgresql;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For all available translators see <a href="Translators.html">Translators</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Example 2: Example creating Override Translator</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE FOREIGN DATA WRAPPER oracle-override TYPE oracle OPTIONS (useBindVariables false);</pre>
</div>
</div>
<div class="paragraph">
<p>The above example creates a translator override with an example showing turning off the prepared statements.</p>
</div>
<div class="paragraph">
<p>Additional management support to alter, delete a translator</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ALTER  (DATA WRAPPER|TRANSLATOR) {translator-name} OPTIONS (ADD|SET|DROP &lt;key-value&gt;);

DROP FOREIGN [&lt;DATA&gt; &lt;WRAPPER&gt;|&lt;TRANSLATOR&gt;] {translator-name}</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_connection_to_an_external_source">Create a Connection To an External Source</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you can create a connection to the data source, you must either have a JDBC driver (Type 4) that can connect to the data source, or Teiid system must have provided a resource adapter (RAR) file to enable connection to the data source.
If you are using the JDBC driver file this should have already been deployed to the Teiid system, or made it available on the classpath in the case of the Teiid Embedded. There is currently no DDL mechanism to deploy the external drivers.</p>
</div>
<div class="paragraph">
<p>Now to create connection to the external data source. One needs to know the name of deployment. For JDBC drivers, it is typically JAR name with out path. For resource adapters, it is the name of the resource-adapter. Step also associates the connection created with the translator to be used in communicating with this source.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SERVER</span> {<span class="hljs-keyword">source</span>-<span class="hljs-keyword">name</span>} <span class="hljs-keyword">TYPE</span> <span class="hljs-string">&apos;{source-type}&apos;</span>
    [<span class="hljs-keyword">VERSION</span> <span class="hljs-string">&apos;{version}&apos;</span>] FOREIGN <span class="hljs-keyword">DATA</span> WRAPPER {translator-<span class="hljs-keyword">name</span>}
    OPTIONS (&lt;options-clause&gt;)

&lt;options-clause&gt; ::=
    &lt;<span class="hljs-keyword">key</span>&gt; &lt;<span class="hljs-keyword">value</span>&gt;[,&lt;<span class="hljs-keyword">key</span>&gt;, &lt;<span class="hljs-keyword">value</span>&gt;]*</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source-name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name given to the source&#x2019;s connection.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">source-type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For JDBC connection, the driver name or resource-adapter name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">translator-name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the translator to be used with this server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">options</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All connection properties for the connection.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For all available translators see <a href="Translators.html">Translators</a></p>
</div>
<div class="listingblock">
<div class="title">Example 3: creating a data source connection to Postgres database</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SERVER</span> pgsql <span class="hljs-keyword">TYPE</span> <span class="hljs-string">&apos;postgresql-9.4-1201.jdbc41.jar&apos;</span>
    FOREIGN <span class="hljs-keyword">DATA</span> WRAPPER postgresql
    OPTIONS (
        <span class="hljs-string">&quot;jndi-name&quot;</span> <span class="hljs-string">&apos;java:/postgres-ds&apos;</span>
    );</code></pre>
</div>
</div>
<div class="paragraph">
<p>The below are the typical properties that need to be configured for a JDBC connection</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">jndi-name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jndi name of the datasource</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Any additional properties to create a data-source in WildFly can also used here in OPTIONS clause.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If the data source is already exists in the configuration, then supply only provide <em>jndi-name</em> property (you can omit all other properties), then above command will create a new connection, but will use existing configuration in the system.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The below shows an example connection with resource adapter.</p>
</div>
<div class="listingblock">
<div class="title">Example 4: creating a data source connection to &quot;file&quot; resource adapter.</div>
<div class="content">
<pre>CREATE SERVER marketdata TYPE &apos;file&apos;
    FOREIGN DATA WRAPPER file
    OPTIONS(
        ParentDirectory &apos;/path/to/marketdata&apos;
    );</pre>
</div>
</div>
<div class="paragraph">
<p>For all available data sources see <a href="Data_Sources.html">data sources</a></p>
</div>
<div class="paragraph">
<p>Additional management support to alter/delete a connection.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ALTER  SERVER {source-name}  OPTIONS ( ADD|SET|DROP &lt;key-value&gt;);
DROP SERVER  {source-name};</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
ALTER can be used to change properties, but due to a bug in WildFly this feature currently does not work.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now that we have the Translators and Connections created, the next step is to create SCHEMAs and work with metadata.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_schema_in_vdb">Create SCHEMA in VDB</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before metadata about data sources or abstraction layers can be created, a container for this metadata needs to be created. In relational database concepts this is called Schema, and this also works as a namespace in which metadata objects like TABLES, VIEWS and PROCEDURES exist. The below DDL shows how to create a SCHEMA element.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CREATE [VIRTUAL] SCHEMA {schema-name}
    [SERVER {server-name} (&lt;COMMA&gt; {server-name})*]
    OPTIONS (&lt;options-clause&gt;)

&lt;options-clause&gt; ::=
    &lt;key&gt; &lt;value&gt;[,&lt;key&gt;, &lt;value&gt;]*</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The use of VIRTUAL keyword defines if this schema is &quot;Virtual Schema&quot;. In the absence of the VIRTUAL keyword, this Schema element represents a &quot;Source Schema&quot;. Refer to <a href="vdb_guide.html">VDB Guide</a> about different types of Schema types.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If the Schema is defined as &quot;Source Schema&quot;, then SERVER configuration <strong>must</strong> be provided, to be able to determine the data source connection to be used when executing queries that belong to this Schema. Providing multiple Server names configure this Schema as &quot;multi-source&quot; model.  See <a href="Multisource_Models.html">Multisource Models</a> for more information.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The below are the typical properties that need to be configured for a Schema in the OPTIONS clause.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VISIBILITY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is Schema visible during metadata interrogation</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">Example 5: Showing to create a source schema for PostgreSQL server from example above</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">SCHEMA</span> <span class="hljs-keyword">test</span> <span class="hljs-keyword">SERVER</span> pgsql;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Additional management support to alter/delete a schema can be done through following commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">ALTER</span> [<span class="hljs-keyword">VIRTUAL</span>] <span class="hljs-keyword">SCHEMA</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>} OPTIONS (<span class="hljs-keyword">ADD</span>|<span class="hljs-keyword">SET</span>|<span class="hljs-keyword">DROP</span> &lt;<span class="hljs-keyword">key</span>-<span class="hljs-keyword">value</span>&gt;);
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">SCHEMA</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>};</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_importing_schema">Importing Schema</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are designing a source schema, you can add the TABLES, PROCEDURES manually to represent the data source, however in certain situations this can be tedious, or complicated. For example, if you need to represent 100s of existing tables from your Oracle database in Teiid? Or if you are working with MongoDB, how are you going to map a document structure into a TABLE? For this purpose, Teiid provides an import metadata command, that can import/create metadata that represents the source. The following command can be used for that purpose with most of the sources (LDAP source is only exception, not providing import)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>IMPORT FOREIGN SCHEMA {foreign-schema-name}
    FROM (SERVER {server-name} | REPOSITORY {repository-name})
    INTO {schema-name}
    OPTIONS (&lt;options-clause&gt;)

&lt;options-clause&gt; ::=
    &lt;key&gt; &lt;value&gt;[,&lt;key&gt;, &lt;value&gt;]*</pre>
</div>
</div>
<div class="paragraph">
<p>foreign-schema-name : Name of schema in external data source to import. Typically most databases are tied to a schema name, like &quot;public&quot;, &quot;dbo&quot; or name of the database. If you are working with non-relational source, you can provide a dummy value here.
server-name: name of the server created above to import metadata from.
repository-name: Custom/extended &quot;named&quot; repositories from which metadata can be imported. See MetadataRepository interface for more details. Teiid provides a built in type called &quot;DDL-FILE&quot; see example below.
schema-name: The foreign schema name to import from - it&#x2019;s meaning is up to the translator.
import qualifications : using this you can limit your import of the Tables from foreign datasource specified to this list.
options-clause : The &quot;importer&quot; properties that can be used to refine the import process behavior of the metadata. Each Translator defines a set of &quot;importer&quot; properties with their documentation or through extension properties.</p>
</div>
<div class="paragraph">
<p>The below example shows importing metadata from a PostgreSQL using server example above.</p>
</div>
<div class="listingblock">
<div class="title">Example 6</div>
<div class="content">
<pre>-- import from native database
IMPORT FOREIGN SCHEMA public
    FROM SERVER pgsql
    INTO test

-- in archive based vdbs(.vdb) you can provide each schema in a separate file and pull them in main vdb.ddl file as
IMPORT FOREIGN SCHEMA public
    FROM REPOSITORY DDL-FILE
    INTO test OPTIONS (&quot;ddl-file&quot; &apos;/path/to/schema.ddl&apos;)</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
The example IMPORT SCHEMA can be used with any custom Metadata Repository, in the REPOSITORY {DDL-FILE}, DDL-FILE represents a particular type of repository.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The above command imports public.customers, public.orders tables using pgsql&#x2019;s connection into a VDB schema test.</p>
</div>
<div class="sect2">
<h3 id="_importing_another_virtual_database_vdb_reuse">Importing another Virtual Database (VDB Reuse)</h3>
<div class="paragraph">
<p>If you like to import another VDB that is created into the current VDB, the following command cn be used to import all the metadata</p>
</div>
<div class="listingblock">
<div class="content">
<pre>IMPORT DATABASE {vdb-name} VERSION {version} [WITH ACCESS CONTROL]</pre>
</div>
</div>
<div class="paragraph">
<p>Specifying the WITH ACCESS CONTROL also imports any Data Roles defined in the other database.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_schema_objects">Create Schema Objects</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Most DDL statements that affect <a href="DDL_Metadata.html">schema objects</a> need the schema to be explicitly set.  To be able to establish the schema context you are working with use following command:</p>
</div>
<div class="listingblock">
<div class="title">Example: Set Schema</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">SET</span> <span class="hljs-keyword">SCHEMA</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>};</code></pre>
</div>
</div>
<div class="paragraph">
<p>then you will be create/drop/alter schema objects for that schema.</p>
</div>
<div class="listingblock">
<div class="title">Example: Schema Object Creation</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">SET</span> <span class="hljs-keyword">SCHEMA</span> <span class="hljs-keyword">test</span>;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> my_view <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-string">&apos;HELLO WORLD&apos;</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_roles">Data Roles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Data roles, also called entitlements, are sets of permissions defined per VDB that dictate data access (create, read, update, delete). Data roles use a fine-grained permission system that Teiid will enforce at runtime and provide audit log entries for access violations. To read more about Data Roles and Permissions see  <a href="Data_Roles.html">Data Roles</a> and  <a href="Permissions.html">Permissions</a></p>
</div>
<div class="paragraph">
<p>Here we will show DDL support to create these Data Roles and corresponding permissions.</p>
</div>
<div class="listingblock">
<div class="title">BNF for Create Data Role</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}
    [<span class="hljs-keyword">WITH</span> JAAS <span class="hljs-keyword">ROLE</span> {<span class="hljs-keyword">enterprise</span>-<span class="hljs-keyword">role</span>}(,{<span class="hljs-keyword">enterprise</span>-<span class="hljs-keyword">role</span>})*]
    [<span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">AUTHENTICATED</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>data-role: Data role referenced in the VDB
enterprise-role: Enterprise role(s) that this data-role represents
WITH ANY AUTHENTICATED: When present, this data-role is given to any user who is valid authenticated user.</p>
</div>
<div class="listingblock">
<div class="title">Example: Create Data Role</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> readWrite <span class="hljs-keyword">WITH</span> JASS <span class="hljs-keyword">ROLE</span> developer,analyst;

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> readOnly <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">ANY</span> <span class="hljs-keyword">AUTHENTICATED</span>;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Roles must be defined as a structural component of the VDB.  GRANT/REVOKE may then appear after all of the database structure has been defined.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="Permissions.html">Permissions</a> for more details on the permission system.</p>
</div>
<div class="listingblock">
<div class="title">BNF for GRANT/REVOKE command</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> [&lt;permission-types&gt; (,&lt;permission-types&gt;)* ]
    <span class="hljs-keyword">ON</span> (&lt;<span class="hljs-keyword">grant</span>-<span class="hljs-keyword">resource</span>&gt;)
    <span class="hljs-keyword">TO</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

<span class="hljs-keyword">GRANT</span> (<span class="hljs-keyword">TEMPORARY</span> <span class="hljs-keyword">TABLE</span> | ALL <span class="hljs-keyword">PRIVILEGES</span>)
    <span class="hljs-keyword">TO</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">USAGE</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">LANGUAGE</span> {<span class="hljs-keyword">language</span>-<span class="hljs-keyword">name</span>}
    <span class="hljs-keyword">TO</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

&lt;permission-types&gt; ::=
    <span class="hljs-keyword">SELECT</span> | <span class="hljs-keyword">INSERT</span> |  <span class="hljs-keyword">UPDATE</span> | <span class="hljs-keyword">DELETE</span> |
    <span class="hljs-keyword">EXECUTE</span> | <span class="hljs-keyword">ALTER</span> | <span class="hljs-keyword">DROP</span>

&lt;<span class="hljs-keyword">grant</span>-<span class="hljs-keyword">resource</span>&gt; ::=
        <span class="hljs-keyword">TABLE</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">table</span>-<span class="hljs-keyword">name</span>} [&lt;condition&gt;] |
        <span class="hljs-keyword">PROCEDURE</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">procedure</span>-<span class="hljs-keyword">name</span>} [&lt;condition&gt;] |
        <span class="hljs-keyword">SCHEMA</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>} |
        <span class="hljs-keyword">COLUMN</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">table</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">column</span>-<span class="hljs-keyword">name</span>} [<span class="hljs-keyword">MASK</span> [<span class="hljs-keyword">ORDER</span> n] {expression} ]

&lt;condition&gt; ::=
    CONDITION [<span class="hljs-keyword">CONSTRAINT</span>] {<span class="hljs-built_in">boolean</span> expression}

<span class="hljs-keyword">REVOKE</span> [(&lt;permission-types&gt; (,&lt;permission-types&gt;)* )]
    <span class="hljs-keyword">ON</span> (&lt;<span class="hljs-keyword">revoke</span>-<span class="hljs-keyword">resource</span>&gt;)
    <span class="hljs-keyword">FROM</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

<span class="hljs-keyword">REVOKE</span>
    (<span class="hljs-keyword">TEMPORARY</span> <span class="hljs-keyword">TABLE</span> | ALL <span class="hljs-keyword">PRIVILEGES</span>)
    <span class="hljs-keyword">FROM</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

<span class="hljs-keyword">REVOKE</span> <span class="hljs-keyword">USAGE</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">LANGUAGE</span> {<span class="hljs-keyword">language</span>-<span class="hljs-keyword">name</span>}
    <span class="hljs-keyword">FROM</span> {<span class="hljs-keyword">data</span>-<span class="hljs-keyword">role</span>}

&lt;<span class="hljs-keyword">revoke</span>-<span class="hljs-keyword">resource</span>&gt; ::=
        <span class="hljs-keyword">TABLE</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">table</span>-<span class="hljs-keyword">name</span>} [CONDITION] |
        <span class="hljs-keyword">PROCEDURE</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">procedure</span>-<span class="hljs-keyword">name</span>} [CONDITION] |
        <span class="hljs-keyword">SCHEMA</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>} |
        <span class="hljs-keyword">COLUMN</span> {<span class="hljs-keyword">schema</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">table</span>-<span class="hljs-keyword">name</span>}.{<span class="hljs-keyword">column</span>-<span class="hljs-keyword">name</span>} [<span class="hljs-keyword">MASK</span>]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>permission-types: Types of permissions to be granted</p>
</li>
<li>
<p>language-name: Name of the language</p>
</li>
<li>
<p>grant-resource: This is Schema element in the VDB on which this grant applies to.</p>
</li>
<li>
<p>revoke-resource: This is Schema element in the VDB on which this revoke applies to.  Specifying the CONDITION or MASK keyword will attempt to move the specific CONDITION or MASK for that resource.</p>
</li>
<li>
<p>schema-name: Name of the schema this resource belongs to</p>
</li>
<li>
<p>table-name: Name of the Table/View</p>
</li>
<li>
<p>procedure-name: Procedure Name</p>
</li>
<li>
<p>column-name: Name of the column</p>
</li>
<li>
<p>condition: When present, the {expression} is appended to the WHERE clause of the query</p>
</li>
<li>
<p>expression: any valid sql expression, this can include columns from referenced resource</p>
</li>
<li>
<p>CONSTRAINT: When this is supplied along with CONDITION, the {boolean expression} is also applied during the INSERT/UPDATE queries. By default CONDITION <strong>only</strong> applies SELECT queries. Also CONSTRAINT does <strong>NOT</strong> apply to VIEWs only FOREIGN TABLES.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
GRANT/REVOKE mostly function as direct replacements for the XML permission declarations. A grant/revoke
has no effect on any other grant/revoke unless it represents the same resource, in which case its effect is combined.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example: Give Read, write, update permission on single table to user with enterprise role &quot;role1&quot;</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> RoleA <span class="hljs-keyword">WITH</span> JAAS <span class="hljs-keyword">ROLE</span> role1;
...
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">READ</span>, <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">test</span>.Customer <span class="hljs-keyword">TO</span> RoleA;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Give all permissions to user with &quot;admin&quot; enterprise role</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">ROLE</span> everything <span class="hljs-keyword">WITH</span> JAAS <span class="hljs-keyword">ROLE</span> <span class="hljs-keyword">admin</span>;
...
<span class="hljs-keyword">GRANT</span> ALL <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">TO</span> everything;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Use of CONDITION, all users can see only Orders table contents amount &lt; 1000</div>
<div class="content">
<pre>CREATE ROLE base-role WITH ANY AUTHENTICATED;
...
GRANT READ ON TABLE test.Orders CONDITION &apos;amount &lt; 1000&apos; TO base-role;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Use of CONDITION, override previous example to more privileged user</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">READ</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">test</span>.Orders CONDITION <span class="hljs-string">&apos;amount &lt; 1000 and amount &gt;=1000&apos;</span> <span class="hljs-keyword">TO</span> RoleA;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Restricting rows, ROW BASED SECURITY</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">READ</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">test</span>.CustomerOrders CONDITION <span class="hljs-keyword">CONSTRAINT</span> <span class="hljs-string">&apos;name = user()&apos;</span> <span class="hljs-keyword">TO</span> RoleA;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, user() function returns the currently logged in user id, if that matches to the name column, only those rows will be returned. There are functions like hasRole(&apos;x&apos;) that can be used too.</p>
</div>
<div class="listingblock">
<div class="title">Example : Column Masking, mask &quot;amount for all users&quot;</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">READ</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> <span class="hljs-keyword">test</span>.<span class="hljs-keyword">Order</span>.amount
    <span class="hljs-keyword">MASK</span> <span class="hljs-string">&apos;xxxx&apos;</span>
    <span class="hljs-keyword">TO</span> base-<span class="hljs-keyword">role</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Column Masking, mask &quot;amount for all users when amount &gt; 1000&quot;</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">READ</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> <span class="hljs-keyword">test</span>.<span class="hljs-keyword">Order</span>.amount
    <span class="hljs-keyword">MASK</span> <span class="hljs-string">&apos;CASE WHEN amount &gt; 1000 THEN &apos;</span>xxxx<span class="hljs-string">&apos; END&apos;</span>
    <span class="hljs-keyword">TO</span> base-<span class="hljs-keyword">role</span>;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example : Column Masking, mask &quot;amount for all users&quot; except the calling user is equal to the user()</div>
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">READ</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">COLUMN</span> <span class="hljs-keyword">test</span>.<span class="hljs-keyword">Order</span>.amount
    <span class="hljs-keyword">MASK</span> <span class="hljs-string">&apos;xxxx&apos;</span>
    CONDITION <span class="hljs-string">&apos;customerid &lt;&gt; user()&apos;</span>
    <span class="hljs-keyword">TO</span> base-<span class="hljs-keyword">role</span>;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_differences_with_vdb_xml_metadata">Differences with vdb.xml metadata</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using a .ddl file instead of a .xml file to define a vdb will result in differences in how metadata is loaded when using a full server deploymnet of Teiid.</p>
</div>
<div class="paragraph">
<p>Using a vdb.ddl file does not support:
* metadata caching at the schema level - although this feature may be added later
* metadata reload if a datasource is unavailable at deployment time
* parallel loading of source metadata</p>
</div>
<div class="paragraph">
<p>All of same limitations affect all VDBs (regardless of .xml or .ddl) when using Teiid Embedded.</p>
</div>
</div>
</div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="developing_vdb.html" class="navigation navigation-prev " aria-label="Previous page: Developing a Virtual Database">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="xml_deployment_mode.html" class="navigation navigation-next " aria-label="Next page: Using XML & DDL">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"DDL VDB","level":"2.1.2.2","depth":3,"next":{"title":"Using XML & DDL","level":"2.1.2.3","depth":3,"path":"reference/xml_deployment_mode.adoc","ref":"reference/xml_deployment_mode.adoc","articles":[]},"previous":{"title":"Developing a Virtual Database","level":"2.1.2.1","depth":3,"path":"reference/developing_vdb.adoc","ref":"reference/developing_vdb.adoc","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{"asFullVersionNumber":"15.0.1.Final","versionNumber":"12.1","copyrightYear":"2019","asDocRoot":"https://docs.jboss.org/author/display/WFLY/Documentation","archeTypeVersion":"12.0.0","asVersionNumber":"WildFly 15.0.1","fullVersionNumber":"12.1.0","copyrightHolder":"Red Hat, Inc.","targetWildfly":true,"javaVersionUrl":"http://docs.oracle.com/javase/8","asName":"WildFly","targetSpring":false},"plugins":["collapsible-menu"],"pluginsConfig":{"collapsible-menu":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"reference/ddl_deployment_mode.adoc","mtime":"2019-03-01T14:04:28.828Z","type":"asciidoc"},"gitbook":{"version":"3.2.3","time":"2019-03-01T14:05:33.432Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

